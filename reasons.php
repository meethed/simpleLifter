<!DOCTYPE html>
<head>
<title>Guidance for referees</title>
<link rel="stylesheet" href="resources/styles.css">
</head>
<body style="overflow: auto">
<h1>Help!</h1>
<button id="seBut" class="helpBtn">Welcome and setup</button>
<div id="Sepopup" class="containerhelp">
<div id="sebody">
<h2>Overview</h2>
<p>This web app was written to provide free and feature-rich automated lighting for powerlifting competitions. Current features include:</p>
<ol>
<li>Works on any mobile phone, computer or tablet</li>
<li>No custom hardware required. Only three phones and a computer/tablet/TV/etc for the display</li>
<li>Dark mode conserves mobile battery (a modern phone should last all day without needing a recharge</li>
<li>Integrates with OBS for live streams without a capture card</li>
<li>Built in timers (1 minute attempt timer, and a programmable 1-59 minute timer</li>
<li>Upgradable, customisable, fully supported...BUT it is a work in progress!</li>
</ol>
<h2>Getting started</h2>
<p>To set up and run a competition:</p>
<ol>
<li>Create and activate your competition. On the home page, click on 'add new competition' and follow the instructions</li>
<li>Ensure all the referees can access the website and are aware of the codeword/password you created</li>
<li>To login you must select your position (lights/timer/referee), choose your competition, and enter the codeword</li>
<li>Load up the lights / livestream. These are completely set and forget, once you're in you're in! (A black screen is a good thing, so long as the competition title is displayed)</li>
<li>*Optional* Load up the timers (recommended to be on the tech desk - such as a separate window alongside nextlifter/openlifter</li>
<li>Get each referee in position and logged on</li>
<li>Enjoy!</li>
</ol>
<p>Pointers</p>
<ol>
<li>Ensure that referees hold each button until their phone vibrates (this indicates a successful connection with the server)</li>
<li>Test the internet connection. This setup requires low bandwidth, and should not interfere with a live stream. BUT it does need some internet access</li>
<li>Ensure that the left and right referees are not mixed up or duplicated</li>
<li>Run a test before each flight or after any intervals. The 'green' light will show which positions are or aren't working</li>
<li>HAVE A BACKUP! Manual lights or flags are a must!</li>
</ol>
<h2>Privacy & Cookies</h2>
<p>No personal information is retained when using the lights. Your email address is only used for me to contact you, but I will not do this unless I have to. </p>
<p>Cookies are used to manage password and logon data, and to store some data locally in the event of a server outage. These are "essential" cookies and can't be disabled without compromising the security of the server.</p>
<p>simpleLifter stores lifter data on the server, but only enough for successful conduct of a competition and recording of results (eg on openipf.org). DOB is not used, only birth year. I DO NOT backup or hold this data longer than necessary. If you want anything reviewed or deleted, please contact me.</p>
</div>
</div>
<button id="hBut" class="helpBtn">Basic help</button>
<div id="Hpopup" class="containerhelp">
<div id="hbody">
<h2>How it Works</h2>
<p>At the completion of a lift, all referees are to press and <b>hold the button for half a second</b> to lock in their choice.The referee's phone will vibrate to indicate successful registration of their choice with the server. If the phone does not vibrate, either the button was not held long enough, or there was an error connecting to the server.</p>
<p>Once referees begin to register their choice, their respective light will display 'green' for pending, until such time as all three referees have made their choice.</p>
<p>Once all three choices have been made, the lights will illuminate with the red or white primary light, and the yellow/red/blue light if applicable.</p>
<p>The lights will automatically clear after 15 or so seconds, ready to start again. It's important to note that <b>no changes can be made</b> until the lights have cleared.</p>
<h2>Centre Referee</h2>
<p>The lights system will not work without an active centre referee. This is primarily as the centre referee app controls the timers, but was specifically designed this way to minimise errors with multiple systems operating (eg a lights live stream and in-venue display will both be talking over each other and will lead to erroneous displays)</p>
<p>The centre referee has an extra 'bar loaded' button. This button will clear the lights, and commence a 1 minute timer for the lifter to take their attempt.</p>
<p>The centre referee also has a preview of the lights and timers.<p>
</div>
</div>
<button id="sBut" class="helpBtn">Squat</button>
<div id="Spopup" class="containerhelp">
<div id="sbody">
<h2>Red</h2>
<li>Failure to bend the knees and lower the body until the top surface of the legs at the hip joint is lower than the top of the knees.</li>
<h2>Blue</h2>
<li>Failure to assume an upright position with the knees locked at the commencement and at the completion of the lift.
<li>Double bouncing or more than one recovery attempt at the bottom of the lift or any downward movement during the ascent.</li>
<h2>Yellow</h2>
<li>Stepping backward or forward or moving the feet laterally. Rocking the feet between the ball and heel is permitted. 
<li>Failure to observe the Chief Referees signals at the commencement or completion of the lift.
<li>Contact with bar or lifter by the spotters/loaders between the Chief referees’ signals, in order to make the lift easier.
<li>Contact of elbows or upper arms with the legs, which has supported and been of aid to the lifter. Slight contact that is of no aid may be ignored.
<li>Any dropping or dumping of the bar after completion of the lift.
<li>Failure to comply with any of the requirements contained in the general description of the lift, which precedes this list of disqualification.
<li>Incomplete lift</li>
<p></p>
</div>
</div>
<button id="bBut" class="helpBtn">Bench Press</button>
<div id="Bpopup" class="containerhelp">
<div id="bbody">
<h2>Red</h2><li>Bar is not lowered to chest or abdominal area i.e. not reaching the chest or abdominal area, or is touching the belt.</li>
<h2>Blue</h2><li>Any downward movement of the whole of the bar in the course of being pressed out.
<li>Failure to press the bar to straight arms length elbows locked at the completion of the lift.</li>
<h2>Yellow</h2><li>Heaving, or sinking the bar after it has been motionless on the chest or abdominal area, in such a way as to aid the lifter.
<li>Failure to observe the Chief Referees signals at the commencement, during or completion of the lift.
<li>Any change in the elected lifting position during the lift proper, i.e. any raising movement of the head, shoulders or buttocks from their original points of contact with the bench, or lateral movement of the hands on the bar.
<li>Contact with the bar or the lifter by the spotters/loaders between the Chief Referees signals, in order to make the lift easier.
<li>Any contact of the lifter’s feet with the bench or its supports.
<li>Deliberate contact between the bar and the bar rest supports during the lift in order to make the lift easier.
<li>Failure to comply with any of the requirements contained in the general description of the lift, which precedes this list of disqualification.
<li>Incomplete lift</li>
<p></p>
<p></p>
<p></p>
</div>
</div>
<button id="dBut" class="helpBtn">Deadlift</button>
<div id="Dpopup" class="containerhelp">
<div id="dbody">
<h2>Red</h2><li>Failure to lock the knees straight at the completion ofthe lift.
<li>Failure to stand erect with the shoulders back.</li>
<h2>Blue</h2><li>Any downward movement of the bar before it reaches the final position. If the bar settles as the shoulders come back this should not be reason to disqualify the lift.
<li>Supporting the bar on the thighs during the performance of the lift. If the bar edges up the thighs but is not supported, this is not reason for disqualification.</li>
<h2>Yellow</h2><li>Lowering the bar before receiving the Chief Referees signal.
<li>Allowing the bar to return to the platform without maintaining control with both hands, i.e. releasing the bar from the palms of the hand.
<li>Stepping backward or forward or moving the feet laterally. Rocking the feet between the ball and heel is permitted. Foot movement after the command “Down” will not be cause for failure.
<li>Failure to comply with any of the requirements contained in the general description of the lift, which precedes this list of disqualification.
<li>Incomplete lift</li>
<p></p>
</div>
</div>

<button id="ipfBut" class="helpBtn" onclick="window.location.href='https://www.powerlifting.sport/fileadmin/ipf/data/rules/technical-rules/english/IPF_Technical_Rules_Book_2022_1.pdf'">IPF Rules 2022</button>
<h1></h1><h1></h1>
<button id="backBut" class="helpBtn" onclick="window.history.back()">Back</button>
<h1></h1><h1></h1>
<button id="pdfBut" class="helpBtn" onclick="window.location.href='lights.pdf'">PDF manual</button>
</body>
<script>

// need to get the heights of everything and put them here
var heights=[0,0,0,0,0];
var se=document.getElementById("Sepopup");
var h =document.getElementById("Hpopup");
var s =document.getElementById("Spopup");
var b =document.getElementById("Bpopup");
var d =document.getElementById("Dpopup");

heights[0]=se.clientHeight+100;
se.style.maxHeight=0;
heights[1]=h.clientHeight+100;
h.style.maxHeight=0;
heights[2]=s.clientHeight+100;
s.style.maxHeight=0;
heights[3]=b.clientHeight+100;
b.style.maxHeight=0;
heights[4]=d.clientHeight+100;
d.style.maxHeight=0;

//setup goes here
document.getElementById("seBut").addEventListener("click", function() {
se.classList.toggle("visible");
if (se.classList.contains("visible")) {
se.style.maxHeight= heights[0]+'px';
} else {
se.style.maxHeight = 0;
}
});
//help goes here
document.getElementById("hBut").addEventListener("click", function() {
h.classList.toggle("visible");
if (h.classList.contains("visible")) {
h.style.maxHeight= heights[1]+"px";
} else {
h.style.maxHeight = 0;
}

}
);
//squat goes here
document.getElementById("sBut").addEventListener("click", function() {
s.classList.toggle("visible");
if (s.classList.contains("visible")) {
s.style.maxHeight= heights[2]+"px";
} else {
s.style.maxHeight = 0;
}

}
);

//bench goes here
document.getElementById("bBut").addEventListener("click", function() {
b.classList.toggle("visible");
if (b.classList.contains("visible")) {
b.style.maxHeight= heights[3]+"px";
} else {
b.style.maxHeight = 0;
}

}
);

//dead goes here
document.getElementById("dBut").addEventListener("click", function() {
d.classList.toggle("visible");
if (d.classList.contains("visible")) {
d.style.maxHeight= heights[4]+"px";
} else {
d.style.maxHeight = 0;
}

}
);


//click handler to close the box
var x = document.querySelectorAll(".containerhelp");
var i
x.forEach(xx => {
	xx.addEventListener("click", function() {
	xx.classList.remove("visible")
	xx.style.maxHeight=0;
	});
	});



</script>
</html>


